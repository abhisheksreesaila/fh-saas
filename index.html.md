# ğŸš€ fh-saas


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## âš¡ Quick Start

### 1. Install

``` bash
pip install fh-saas
```

### 2. Configure Environment

``` bash
# .env file
DB_TYPE=POSTGRESQL
DB_USER=postgres
DB_PASS=your_password
DB_HOST=localhost
DB_NAME=app_host

# Optional integrations
STRIPE_SECRET_KEY=sk_...
RESEND_API_KEY=re_...
GOOGLE_CLIENT_ID=...
GOOGLE_CLIENT_SECRET=...
```

### 3. Initialize Your App

``` python
from fh_saas.db_host import HostDatabase, GlobalUser, TenantCatalog, Membership, gen_id, timestamp
from fh_saas.db_tenant import get_or_create_tenant_db
from fh_saas.utils_db import register_tables, create_indexes
from fh_saas.utils_log import configure_logging

# Configure logging (once at startup)
configure_logging()

# Connect to host database
host_db = HostDatabase.from_env()

# Create a new user
user = GlobalUser(
    id=gen_id(),
    email="founder@startup.com",
    oauth_id="google_abc123",
    created_at=timestamp()
)
host_db.global_users.insert(user)

# Create a tenant for their organization
tenant = TenantCatalog(
    id=gen_id(),
    name="Acme Corp",
    db_url="postgresql://...",
    created_at=timestamp()
)
host_db.tenant_catalogs.insert(tenant)

# Link user to tenant as owner
membership = Membership(
    id=gen_id(),
    user_id=user.id,
    tenant_id=tenant.id,
    profile_id=gen_id(),
    role="owner",
    created_at=timestamp()
)
host_db.memberships.insert(membership)
host_db.commit()
```

### 4. Work with Tenant Data

``` python
# Get tenant's isolated database
tenant_db = get_or_create_tenant_db(tenant.id, tenant.name)

# Define your app's data models
class Project:
    id: str
    name: str
    status: str = "active"
    created_at: str

class Task:
    id: str
    project_id: str
    title: str
    completed: bool = False

# Register tables (creates if not exist)
tables = register_tables(tenant_db, [
    (Project, "projects", "id"),
    (Task, "tasks", "id"),
])

# Add indexes for performance
create_indexes(tenant_db, [
    ("tasks", ["project_id"], False, None),
    ("tasks", ["completed"], False, None),
])

# Use the tables
projects = tables["projects"]
projects.insert(Project(id=gen_id(), name="Launch MVP", created_at=timestamp()))
tenant_db.conn.commit()
```

------------------------------------------------------------------------

## ğŸ“š Documentation Guide

<table data-quarto-postprocess="true">
<tbody>
<tr>
<td data-quarto-table-cell-role="th">Section</td>
<td data-quarto-table-cell-role="th">What You'll Learn</td>
</tr>
<tr>
<td colspan="2"><strong>ğŸ“¦ Core</strong></td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/db_host.html">Multi-Tenant
Setup</a></td>
<td>Host database, user management, tenant registry</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/db_tenant.html">Tenant
Databases</a></td>
<td>Isolated databases per tenant, connection pooling</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_db.html">Table
Management</a></td>
<td>Create tables &amp; indexes from dataclasses</td>
</tr>
<tr>
<td colspan="2"><strong>ğŸ”Œ Integrations</strong></td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_api.html">HTTP
Client</a></td>
<td>REST APIs with retries, rate limiting, auth</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_graphql.html">GraphQL
Client</a></td>
<td>Streaming pagination for large datasets</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_webhook.html">Webhooks</a></td>
<td>Receive &amp; verify external webhooks</td>
</tr>
<tr>
<td colspan="2"><strong>ğŸ’³ Payments &amp; Migrations</strong></td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_stripe.html">Stripe
Payments</a></td>
<td>Subscriptions, trials, access control</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_migrate.html">DB
Migrations</a></td>
<td>Version tracking, rollback support</td>
</tr>
<tr>
<td colspan="2"><strong>âš™ï¸ Data Pipeline</strong></td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_bgtsk.html">Background
Tasks</a></td>
<td>Async job execution</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_polars_mapper.html">Data
Transforms</a></td>
<td>JSON â†’ Polars â†’ Database pipeline</td>
</tr>
<tr>
<td colspan="2"><strong>ğŸ› ï¸ Utilities</strong></td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_sql.html">SQL
Helpers</a></td>
<td>Database type detection, query builders</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_log.html">Logging</a></td>
<td>Configurable logging for all modules</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_oauth.html">Authentication</a></td>
<td>OAuth flows (Google, GitHub)</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_email.html">Email
Sending</a></td>
<td>Transactional emails via Resend</td>
</tr>
<tr>
<td colspan="2"><strong>ğŸ“£ Content</strong></td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_blog.html">Blog
Publishing</a></td>
<td>Markdown blog with frontmatter</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_seo.html">SEO
&amp; Sitemaps</a></td>
<td>Sitemap generation, meta tags</td>
</tr>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_workflow.html">Workflow
Engine</a></td>
<td>Multi-step automation</td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

## ğŸ› ï¸ Developer Guide

This project uses [nbdev](https://nbdev.fast.ai/) for literate
programming. The source of truth is in the `nbs/` notebooks.

### Development Setup

``` bash
# Clone and install in dev mode
git clone https://github.com/abhisheksreesaila/fh-saas.git
cd fh-saas
pip install -e .

# Make changes in nbs/ directory, then compile
nbdev_prepare
```

------------------------------------------------------------------------

## ğŸ“¦ Installation

``` bash
# From PyPI (recommended)
pip install fh-saas

# From GitHub (latest)
pip install git+https://github.com/abhisheksreesaila/fh-saas.git
```

[GitHub](https://github.com/abhisheksreesaila/fh-saas) Â·
[PyPI](https://pypi.org/project/fh-saas/) Â·
[Documentation](https://abhisheksreesaila.github.io/fh-saas/)

**ğŸ¤– For AI Assistants:** [Download
llms-ctx.txt](https://raw.githubusercontent.com/abhisheksreesaila/fh-saas/main/llms-ctx.txt)
â€” Complete API documentation for LLMs

------------------------------------------------------------------------

## ğŸ¤– AI Assistant Context

**For AI coding assistants** (GitHub Copilot, Claude, ChatGPT, Cursor,
etc.), download the complete API documentation:

**[ğŸ“¥ Download
llms-ctx.txt](https://raw.githubusercontent.com/abhisheksreesaila/fh-saas/main/llms-ctx.txt)**
â€” Complete fh-saas documentation in LLM-friendly format

### How to use:

1.  Download the context file
2.  Add to your AI assistantâ€™s instructions/knowledge base  
3.  Get accurate code suggestions for fh-saas APIs

This file contains all module documentation, examples, and API
signatures formatted for optimal LLM understanding.

------------------------------------------------------------------------

## ğŸ¤ Contributing

Contributions are welcome! Please check the [GitHub
repository](https://github.com/abhisheksreesaila/fh-saas) for issues and
discussions.
