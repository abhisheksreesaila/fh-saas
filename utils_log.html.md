# üìä Logging


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

## üéØ Overview

<table>
<colgroup>
<col style="width: 52%" />
<col style="width: 47%" />
</colgroup>
<thead>
<tr>
<th>Function</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_log.html#configure_logging"><code>configure_logging</code></a></td>
<td>One-time setup at app startup</td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

## üìã Environment Variables

<table>
<thead>
<tr>
<th>Variable</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FH_SAAS_LOG_LEVEL</code></td>
<td>WARNING</td>
<td>DEBUG, INFO, WARNING, ERROR</td>
</tr>
<tr>
<td><code>FH_SAAS_LOG_FILE</code></td>
<td>(none)</td>
<td>Path to log file (optional)</td>
</tr>
</tbody>
</table>

## ‚öôÔ∏è configure_logging

``` python
from nbdev.showdoc import show_doc
```

------------------------------------------------------------------------

<a
href="https://github.com/abhisheksreesaila/fh-saas/blob/main/fh_saas/utils_log.py#L15"
target="_blank" style="float:right; font-size:smaller">source</a>

### configure_logging

``` python

def configure_logging(
    log_file:str=None, level:str=None, max_bytes:int=10000000, backup_count:int=5
):

```

*Configure logging for all fh_saas modules - call once at app startup.*

## üìñ Usage Examples

### 1. App Startup (call once in main.py)

``` python
from fh_saas.utils_log import configure_logging

# Option A: Use environment variables (recommended for production)
# Set FH_SAAS_LOG_LEVEL=INFO and FH_SAAS_LOG_FILE=./logs/app.log in .env
configure_logging()

# Option B: Explicit - console only
configure_logging(level='INFO')

# Option C: Console + rotating file
configure_logging(level='INFO', log_file='./logs/app.log')
```

### 2. In Any fh_saas Module (already done)

Every module in fh_saas declares a logger at the top:

``` python
# fh_saas/utils_oauth.py
import logging
logger = logging.getLogger(__name__)

def handle_login_request(request, session):
    logger.debug('Login request initiated')
    # ... do work ...
    logger.info(f'OAuth complete, redirecting to {redirect_url}')
```

### 3. Where Do Logs Go?

<table>
<colgroup>
<col style="width: 48%" />
<col style="width: 31%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr>
<th>Configuration</th>
<th>Console</th>
<th>File</th>
</tr>
</thead>
<tbody>
<tr>
<td><a
href="https://abhisheksreesaila.github.io/fh-saas/utils_log.html#configure_logging"><code>configure_logging()</code></a></td>
<td>‚úÖ</td>
<td>‚ùå</td>
</tr>
<tr>
<td><code>configure_logging(log_file='app.log')</code></td>
<td>‚úÖ</td>
<td>‚úÖ</td>
</tr>
<tr>
<td>No <a
href="https://abhisheksreesaila.github.io/fh-saas/utils_log.html#configure_logging"><code>configure_logging()</code></a>
call</td>
<td>‚ùå silent</td>
<td>‚ùå</td>
</tr>
</tbody>
</table>

### 4. Log Levels

<table>
<colgroup>
<col style="width: 24%" />
<col style="width: 44%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr>
<th>Level</th>
<th>When to Use</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>DEBUG</code></td>
<td>Detailed diagnostic</td>
<td><code>logger.debug('Checking user session')</code></td>
</tr>
<tr>
<td><code>INFO</code></td>
<td>Normal operations</td>
<td><code>logger.info('User logged in')</code></td>
</tr>
<tr>
<td><code>WARNING</code></td>
<td>Unexpected but not failing</td>
<td><code>logger.warning('Token expiring soon')</code></td>
</tr>
<tr>
<td><code>ERROR</code></td>
<td>Operation failed</td>
<td><code>logger.error('Auth failed', exc_info=True)</code></td>
</tr>
</tbody>
</table>

### 5. Real Example from fh_saas

``` python
# In your FastHTML app
from fasthtml.common import *
from fh_saas.utils_log import configure_logging
from fh_saas.utils_oauth import handle_login_request, handle_oauth_callback

# Configure logging ONCE at startup
configure_logging(level='INFO', log_file='./logs/app.log')

app = FastHTML()

@app.get('/login')
def login(request, session):
    return handle_login_request(request, session)  # Logs automatically

@app.get('/auth/callback') 
def callback(code: str, state: str, request, session):
    return handle_oauth_callback(code, state, request, session)  # Logs automatically
```

Output in console and file:

    2026-01-10 14:30:00 | fh_saas.utils_oauth | DEBUG | Login request initiated
    2026-01-10 14:30:05 | fh_saas.utils_oauth | DEBUG | OAuth callback received
    2026-01-10 14:30:05 | fh_saas.utils_oauth | INFO | OAuth complete, redirecting to /dashboard
