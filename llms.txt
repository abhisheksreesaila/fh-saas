# fh-saas

fh-saas is a production-ready multi-tenant SaaS toolkit for FastHTML applications. It provides comprehensive modules for authentication, database multi-tenancy, API integrations, background tasks, and data synchronization, all developed using nbdev literate programming.

## Key Features
- **Multi-Tenant Architecture**: Complete host + tenant database separation with automatic provisioning
- **OAuth Authentication**: Google OAuth integration with CSRF protection and session management
- **API Integrations**: HTTP/GraphQL clients with retry logic, rate limiting, and streaming pagination
- **Background Tasks**: Async job execution with retry support and status tracking
- **Data Pipeline**: API → Polars transforms → Database sync workflows
- **Content Management**: Blog publishing, SEO optimization, and workflow automation
- **Production Ready**: Audit logging, structured logging, email notifications, and webhook processing

## Core Database & Multi-Tenancy
- [00_db_host](_proc/00_db_host.html.md): Host database with users, tenants, memberships, billing, and audit logs
- [01_db_tenant](_proc/01_db_tenant.html.md): Tenant-specific database isolation and connection management
- [15_utils_db](_proc/15_utils_db.html.md): Table registration, index creation, and database utilities

## Authentication & Security
- [04_utils_auth](_proc/04_utils_auth.html.md): Google OAuth flows, CSRF protection, automatic tenant provisioning
- [06_utils_log](_proc/06_utils_log.html.md): Structured logging with configurable levels and formatters

## API Integrations
- [07_utils_api](_proc/07_utils_api.html.md): HTTP client with retries, rate limiting, and request/response hooks
- [08_utils_graphql](_proc/08_utils_graphql.html.md): GraphQL client with streaming pagination for large datasets
- [14_utils_webhook](_proc/14_utils_webhook.html.md): Webhook receiver with signature verification and processing

## Data Processing & Workflows
- [02_utils_sql](_proc/02_utils_sql.html.md): SQL helpers, query builders, and database type detection
- [03_utils_bgtsk](_proc/03_utils_bgtsk.html.md): Background task manager with retry logic and job tracking
- [09_utils_polars_mapper](_proc/09_utils_polars_mapper.html.md): JSON to Polars DataFrame transformations
- [10_utils_sync](_proc/10_utils_sync.html.md): End-to-end API to database synchronization pipeline

## Content & Publishing
- [05_utils_email](_proc/05_utils_email.html.md): Transactional email sending via Resend API
- [11_utils_blog](_proc/11_utils_blog.html.md): Markdown blog publishing with frontmatter parsing
- [12_utils_seo](_proc/12_utils_seo.html.md): SEO metadata, sitemap generation, and optimization
- [13_utils_workflow](_proc/13_utils_workflow.html.md): Multi-step workflow automation and orchestration